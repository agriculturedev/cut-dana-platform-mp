{
  "portalConfig": {
    "map": {
      "baselayerSwitcher": {
        "active": true
      },
      "controls": {
        "rotation":  {
          "showResetRotationAlways": true,
          "showResetRotation": true,
          "rotationIcons": true,
          "moveDistance": 2500,
          "compass2d": true
        } ,
        "zoom": true,
        "tiltView": false,
        "totalView": true,
        "button3d": true,
        "expandable": {
          "backForward": true,
          "orientation": {
            "zoomMode": "once",
            "poiDistances": [
              500,
              1000,
              2000
            ]
          },
          "freeze": false,
          "fullScreen": false
        }
      },
      "featureViaURL": {
        "zoomTo": "42",
        "epsg": 4326,
        "layers": [
          {
            "id": "42",
            "geometryType": "Point",
            "name": "Punkt Feature",
            "styleId": "location_eventlotse"
          },
          {
            "id": "4200",
            "geometryType": "LineString",
            "name": "Übergebene Linien Feature",
            "styleId": "mapMarkerPolygon_flaecheninfo"
          },
          {
            "id": "4020",
            "geometryType": "Polygon",
            "name": "Übergebene Polygon Feature",
            "styleId": "mapMarkerPolygon_flaecheninfo"
          }
        ]
      },
      "getFeatureInfo": {
        "coloredHighlighting3D": {
          "enabled": true,
          "color": "PURPLE"
        },
        "highlightVectorRules": {
          "fill": {
            "color": [
              215,
              102,
              41,
              0.9
            ]
          },
          "image": {
            "scale": 1.5
          },
          "stroke": {
            "width": 4,
            "color": [
              215,
              102,
              41,
              0.9
            ]
          },
          "text": {
            "scale": 2
          }
        },
        "hideMapMarkerOnVectorHighlight": false
      },
      "layerPills": {
        "active": false
      },
      "map3dParameter": {
        "fog": {
          "enabled": true,
          "density": 0.0002,
          "screenSpaceErrorFactor": 2.0
        },
        "fxaa": true,
        "globe": {
          "enableLighting": true,
          "maximumScreenSpaceError": 2,
          "tileCacheSize": 20
        }
      },
      "mapMarker": {
        "pointStyleId": "mapMarker_geo-alt-fill"
      },
      "mapView": {
        "backgroundImage": "https://geodienste.hamburg.de/lgv-config/img/backgroundCanvas.jpeg",
        "startZoomLevel": 4,
        "startCenter": [
          565874,
          5934140
        ],
        "mapInteractions": {
          "interactionModes": {
            "altShiftDragRotate": true,
            "twoFingerPan": true
          }
        }
      },
      "mouseHover": {
        "numFeaturesToShow": 2,
        "infoText": "Exampletext"
      },
      "startingMapMode": "2D",
      "zoomTo": [
        {
          "id": "zoomToGeometry",
          "layerId": "1692",
          "property": "bezirk_name",
          "allowedValues": [
            "ALTONA",
            "HARBURG",
            "HAMBURG-NORD",
            "BERGEDORF",
            "EIMSBÜTTEL",
            "HAMBURG-MITTE",
            "WANDSBEK"
          ]
        },
        {
          "id": "zoomToFeatureId",
          "layerId": "4560",
          "property": "flaechenid",
          "styleId": "location_eventlotse"
        }
      ]
    },
    "secondaryMenu": {
      "expanded": true,
      "sections": [
        [
          {
            "type": "dataNarrator"
          },
          {
            "type": "draw",
            "enableAttributesSelector": true,
            "addIconsOfActiveLayers": true
          },
          {
            "type": "legend"
          },
          {
            "type": "openConfig"
          }
        ]
      ]
    },
    "portalFooter": {
      "scaleLine": true
    },
    "tree": {
      "singleBaselayer": false,
      "addLayerButton": {
        "active": true,
        "searchBar": {
          "active": true,
          "searchInterfaceInstances": [
            {
              "id":"elasticSearch_0",
              "searchCategory": "Thema (externe Fachdaten)"
            },
            {
              "id": "topicTree",
              "searchCategory": "Thema"
            }
          ]
        }
      },
      "highlightedFeatures": {
        "active": true
      },
      "layerIDsToStyle": [
        {
          "id": "1933",
          "styles": "geofox_stations",
          "name": "Haltestellen",
          "legend": "https://geoportal.metropolregion.hamburg.de/legende_mrh/hvv-bus.png"
        },
        {
          "id": "1935",
          "styles": [
            "geofox_Faehre",
            "geofox-bahn",
            "geofox-bus",
            "geofox_BusName"
          ],
          "name": [
            "Fährverbindungen",
            "Bahnlinien",
            "Buslinien",
            "Busliniennummern"
          ],
          "legend": [
            "https://geoportal.metropolregion.hamburg.de/legende_mrh/hvv-faehre.png",
            "https://geoportal.metropolregion.hamburg.de/legende_mrh/hvv-bahn.png",
            "https://geoportal.metropolregion.hamburg.de/legende_mrh/hvv-bus.png",
            "https://geoportal.metropolregion.hamburg.de/legende_mrh/hvv-bus.png"
          ]
        }
      ]
    }
  },
  "layerConfig": {
    "baselayer": {
      "elements": [
        {
          "id": "453",
          "name": "Geobasiskarten (HamburgDE)",
          "shortname": "Geobasiskarten",
          "typ": "WMS",
          "visibility": true
        },
        {
          "id": "452",
          "name": "Digitale Orthophotos (belaubt) Hamburg",
          "shortname": "Orthophotos",
          "typ": "WMS",
          "visibility": false,
          "transparency": 30,
          "preview": {
            "zoomLevel": 6,
            "center": "566245.97,5938894.79",
            "radius": 500
          }
        },
        {
          "id": [
            "4736",
            "12062",
            "4745",
            "4739",
            "12061",
            "4742",
            "12060",
            "12059"
          ],
          "name": "Geobasiskarten (schwarz-grau)",
          "shortname": "Karte schwarz-grau",
          "visibility": false
        },
        {
          "id": "VectorTile_basemap_de",
          "name": "Web Vektor",
          "typ": "VectorTile",
          "visibility": false,
          "preview": {
            "src": "./resources/webVector.png"
          },
          "gfiAttributes": "showAll",
          "legend": "https://geodienste.hamburg.de/HH_WMS_Geobasiskarten?language=ger&version=1.3.0&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer=WMS_Geobasiskarten_Hamburg_N&format=image/png&STYLE=default",
          "url": "https://dev.adv-smart.de/tiles/smarttiles_de_UTM32_dev/{z}/{x}/{y}.pbf",
          "epsg": "EPSG:25832",
          "extent": [
            -46133.17,
            5048875.26857567,
            1206211.10142433,
            6301219.54000000
          ],
          "resolutions": [
            4891.96981025128,
            2445.98490512564,
            1222.99245256282,
            611.496226281410,
            305.748113140705,
            152.874056570353,
            76.4370282851763,
            38.2185141425881,
            19.1092570712941,
            9.55462853564703,
            4.77731426782352,
            2.38865713391176
          ],
          "tileSize": 256,
          "zDirection": -1,
          "vtStyles": [
            {
              "id": "farbe",
              "name": "Farbe",
              "url": "https://sgx.geodatenzentrum.de/gdz_basemapde_vektor/styles/bm_web_col.json",
              "defaultStyle": true
            },
            {
              "id": "grau",
              "name": "Grau",
              "url": "https://sgx.geodatenzentrum.de/gdz_basemapde_vektor/styles/bm_web_gry.json"
            }
          ]
        }
      ]
    },
    "subjectlayer": {
      "elements": [
        {
          "id": "1935"
        },
        {
          "id": "1933"
        },
        {
          "id": [ "20501", "20502", "20503", "20504" ],
          "name": "Gruppe Freizeitrouten und Radfernwege (4 WFS Layer)",
          "typ": "GROUP",
          "styleId": "4515",
          "visibility": false,
          "showInLayerTree": true
        },
        {
          "id": "47",
          "styleId": "47",
          "name": "##O+++O## Ich sollte NIEMALS im Themenbaum sichtbar sein (isNeverVisibleInTree)!",
          "isNeverVisibleInTree": true
        },
        {
          "id": "10220",
          "name": "Dauerzählstellen (Rad) Hamburg",
          "typ": "WMS",
          "visibility": false
        },
        {
          "id": "23555",
          "name": "Satellitenbilder Sentinel-2 CIR",
          "url": "https://geodienste.hamburg.de/HH_WMS-T_Satellitenbilder_Sentinel-2",
          "typ": "WMS",
          "visibility": false
        },
        {
          "id": "4538",
          "name": "ek pv",
          "typ": "WMS",
          "gfiTheme": "solaratlas",
          "visibility": false
        },
        {
          "id": "4905",
          "name": "Schwermetallmessungen",
          "typ": "WMS",
          "visibility": false,
          "gfiTheme" : {
            "name" : "DataTable",
            "params": {
              "isFilterable": true,
              "isSortable": true,
              "enableDownload": true,
              "exportFileName": "Schwermetallmessungen"
            }
          }
        },
        {
          "id": "1420",
          "gfiTheme": "sturmflut",
          "visibility": false
        },
        {
          "id": "3302",
          "name": "Trinkwasser",
          "typ": "WMS",
          "visibility": false
        },
        {
          "id": "8730",
          "name": "Durchschnittliche tägliche Verkehrsstärken (Mo-So)",
          "typ": "WMS",
          "gfiTheme": "verkehrsstaerken",
          "visibility": false
        },
        {
          "id": "2426",
          "name": "Bezirke",
          "typ": "WMS",
          "visibility": false
        },
        {
          "id": "2425",
          "name": "Stadtteile",
          "typ": "WMS",
          "visibility": false
        },
        {
          "id": "22078",
          "name": "Bewohnerparkgebiete Hamburg",
          "typ": "WFS",
          "visibility": false,
          "styleId": "22078",
          "styleField": "bewirtschaftungsart",
          "searchField": "bwp_name",
          "mouseHoverField": [
            "bwp_name",
            "bewirtschaftungsart"
          ]
        },
        {
          "name": "Emissionen",
          "type": "folder",
          "elements": [
            {
              "name": "Lärmschutzbereiche Flughafen Hamburg (FluLärmHmbV)",
              "type": "folder",
              "elements": [
                {
                  "id": "2431",
                  "visibility": false
                },
                {
                  "id": "2430",
                  "visibility": false
                },
                {
                  "id": "2429"
                },
                {
                  "name": "Überschwemmungsgebiete",
                  "type": "folder",
                  "elements": [
                    {
                      "id": "1103",
                      "visibility": false
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "id": "1711",
          "styleId": "1711",
          "name": "Krankenhäuser",
          "typ": "WFS",
          "visibility": false,
          "loadingStrategy": "all",
          "searchField": "name",
          "mouseHoverField": [
            "name",
            "adresse"
          ],
          "featurePrefix": "de.hh.up:",
          "wildCard": "%",
          "singleChar": "#",
          "escapeChar": "!",
          "layerAttribution": "<span>Test: LayerAttribution für Krankenhäuser</span>"
        },
        {
          "id": "2003",
          "styleId": "2003",
          "name": "de.hh.up:nr_f_naturschutzgebiet",
          "typ": "WFS",
          "visibility": false,
          "featurePrefix": "de.hh.up:",
          "wildCard": "%",
          "singleChar": "#",
          "escapeChar": "!"
        },
        {
          "id": "52",
          "styleId": "52",
          "name": "Parkhäuser",
          "typ": "WFS",
          "visibility": false,
          "autoRefresh": 5000
        },
        {
          "id": "8712",
          "styleId": "8712",
          "loadingStrategy": "bbox",
          "typ": "WFS",
          "visibility": false,
          "gfiTheme": "schulinfo",
          "showInLayerTree": true,
          "mouseHoverField": [
            "schulname",
            "kapitelbezeichnung"
          ],
          "searchField": "schulname",
          "additionalInfoField": "adresse_strasse_hausnr",
          "featurePrefix": "de.hh.up:",
          "wildCard": "%",
          "singleChar": "#",
          "escapeChar": "!",
          "layerAttribution": "<span>Test: LayerAttribution für Schulen</span>"
        },
        {
          "id": "19173",
          "name": "Digitales Höhenmodell Hamburg (DGM1)",
          "typ": "WMS",
          "visibility": false
        },
        {
          "id": "18104",
          "styleId": "18104",
          "name": "Anzahl frei verfügbarer E-Lastenräder je StadtRad-Station",
          "typ": "SensorThings",
          "visibility": false
        },
        {
          "id": "18106",
          "name": "Elektro Ladestandorte Hamburg",
          "url": "https://iot.hamburg.de",
          "typ": "SensorThings",
          "version": "1.1",
          "gfiAttributes": {
            "dataStreamValue": "Status",
            "dataStreamPhenomenonTime": "Letzte Aktualisierung",
            "steckerTyp": "Typ",
            "connector": "Stecker",
            "ownerThing": "Betreiber",
            "authMeth1": "Authentifizierungsmethode 1",
            "authMeth2": "Authentifizierungsmethode 2",
            "ownerData": "Dateneigentümer",
            "metadata": "Metadateneintrag",
            "dataStreamId": "Datastream-ID"
          },
          "layerAttribution": "nicht vorhanden",
          "legend": "",
          "datasets": [
            {
              "md_id": "07302A1A-3250-4F0F-9F6E-96C508288D03",
              "csw_url": "https://metaver.de/csw",
              "show_doc_url": "https://metaver.de/trefferanzeige?cmd=doShowDocument&docuuid=",
              "rs_id": "https://registry.gdi-de.org/id/de.hh/84b8b24e-300d-48d3-a711-aadc472f886d",
              "md_name": "Elektro Ladestandorte Hamburg",
              "bbox": "461468.96892897453,5916367.229806512,587010.9095989474,5980347.755797674",
              "kategorie_opendata": [
                "Verkehr"
              ],
              "kategorie_inspire": [
                "Verkehrsnetze"
              ],
              "kategorie_organisation": "Behörde für Verkehr und Mobilitätswende (BVM)"
            }
          ],
          "urlParameter": {
            "root": "Datastreams",
            "filter": "properties%2FserviceName%20eq%20%27HH_STA_E-Ladestationen%27%20and%20properties/layerName%20eq%20%27Status_E-Ladepunkt%27",
            "expand": "Observations($orderby=phenomenonTime%20desc;$top=1),Thing($expand=Locations)"
          },
          "related_wms_layers": [
            "937"
          ],
          "epsg": "EPSG:4326",
          "gfiTheme": {
            "name": "sensor",
            "params": {
              "charts": {
                "barPercentage": 1.1,
                "values": {
                  "AVAILABLE": {
                    "title": "common:modules.getFeatureInfo.themes.sensor.chargingStations.available",
                    "color": "rgba(0, 220, 0, 1)",
                    "noticeText": "common:modules.getFeatureInfo.themes.sensor.sensorBarChart.noticeTextAvailable"
                  },
                  "CHARGING": {
                    "title": "common:modules.getFeatureInfo.themes.sensor.chargingStations.charging",
                    "color": "rgba(220, 0, 0, 1)",
                    "noticeText": "common:modules.getFeatureInfo.themes.sensor.sensorBarChart.noticeTextCharging"
                  },
                  "FAULTED": {
                    "title": "common:modules.getFeatureInfo.themes.sensor.chargingStations.outoforder",
                    "color": "rgba(175, 175, 175, 1)",
                    "noticeText": "common:modules.getFeatureInfo.themes.sensor.sensorBarChart.noticeOutoforder"
                  }
                }
              }
            }
          },
          "styleId": "18106",
          "loadThingsOnlyInCurrentExtent": true,
          "urlIsVisible": true
        },
        {
          "id": "27926",
          "styleId": "8712",
          "name": "Schulen (Layertyp OAF)",
          "typ": "OAF",
          "visibility": false,
          "gfiTheme": "schulinfo"
        },
        {
          "id": "20625.90024",
          "styleId": "200_300_400_600_anzahl_sus_primarstufe",
          "name": "Schüler*innen nach Sozialräumen (1 bis 4)",
          "typ": "WFS",
          "visibility": false,
          "gfiAttributes": "showAll",
          "propertyNames": [
            "bezirk_id",
            "bezirk_name",
            "stadtteil_id",
            "stadtteil_name",
            "sozialraum_id",
            "sozialraum_name",
            "anzahl_sus_primarstufe",
            "geom"
          ],
          "gfiTheme": {
            "name": "bildungsatlas",
            "params": {
              "subTheme": "BildungsatlasThemeBalkendiagramm",
              "chartOptions": {
                "anzahl_sus_primarstufe": {
                  "suggestedMin": 0,
                  "suggestedMax": 3000,
                  "stepSize": 500
                }
              }
            }
          }
        },
        {
          "id": "753",
          "styleId": "753",
          "typ": "WFS",
          "visibility": false,
          "mouseHoverField": "Name",
          "loadingStrategy": "bbox"
        },
        {
          "id": "GeoJSON",
          "name": "Beiträge (GeoJSON)",
          "typ": "GeoJSON",
          "visibility": false,
          "url": "./resources/example_geojson.json",
          "styleId": "contributions",
          "legend": true,
          "gfiAttributes": "showAll",
          "gfiTheme": "dipas"
        },
        {
          "id": "StaticImage",
          "name": "Lärmberechnung",
          "extent": [
            568426.27,
            5931985.58,
            569614.86,
            5933174.11
          ],
          "typ": "StaticImage",
          "visibility": false,
          "url": "https://geodienste.hamburg.de/lgv-config/img/Laerm-Test_300dpi.png",
          "legend": [
            "https://geodienste.hamburg.de/lgv-config/img/Legende_Laermberechnung_Tag.png",
            "https://geodienste.hamburg.de/lgv-config/img/Legende_Laermberechnung_Nacht.png"
          ]
        },
        {
          "id": "2928",
          "styleId": "4515",
          "name": "Linienhafte Biotope",
          "legend": true,
          "featurePrefix": "de.hh.up:",
          "wildCard": "%",
          "singleChar": "#",
          "escapeChar": "!"
        },
        {
          "id": "1534",
          "name": "Grünflächen (WebGL)",
          "renderer": "webgl",
          "typ": "WFS",
          "styleId": "1534",
          "isPointLayer": false,
          "gfiAttributes": "showAll",
          "legend": "",
          "loadingStrategy": "all",
          "mouseHoverField": [
            "belegenheit",
            "nutzung"
          ]
        },
        {
          "id": "webgl_dipas",
          "name": "DIPAS Data GeoJSON (WebGL)",
          "renderer": "webgl",
          "typ": "GeoJSON",
          "url": "./webgl_assets/dipas.test.geojson",
          "format": "text/html; charset=utf-8",
          "minScale": "0",
          "maxScale": "2500000",
          "gfiAttributes": "showAll",
          "layerAttribution": "nicht vorhanden",
          "legend": "",
          "loadingStrategy": "all",
          "hitTolerance": 20,
          "isPointLayer": true,
          "bboxGeometry": [
            568426.27,
            5931985.58,
            569614.86,
            5933174.11
          ],
          "mouseHoverField": [
            "Category",
            "Value"
          ],
          "style": {
            "circle-rotate-with-view": false,
            "circle-radius": [
              "interpolate",
              ["linear"],
              ["get", "Total_votes"],
              0,
              6,
              18,
              24
            ],
            "circle-fill-color": [
              "interpolate",
              ["linear"],
              ["get", "compound"],
              -1,
              [
                240,
                40,
                30
              ],
              1,
              [
                0,
                200,
                60
              ]
            ],
            "circle-displacement": [
              0,
              0
            ],
            "circle-opacity": [
              "interpolate",
              ["linear"],
              ["get", "Total_votes"],
              40000,
              0.6,
              2000000,
              0.92
            ]
          }
        },
        {
          "name": "3D Daten",
          "type": "folder",
          "elements": [
            {
              "name": "3D Basisdaten",
              "type": "folder",
              "elements": [
                {
                  "id": "12883",
                  "name": "Gelände",
                  "typ": "Terrain3D",
                  "visibility": true
                }
              ]
            },
            {
              "name": "3D Gebäudedaten",
              "type": "folder",
              "elements": [
                {
                  "id": "16101",
                  "name": "Brückenflächen HH",
                  "typ": "TileSet3D",
                  "visibility": true
                },
                {
                  "id": "12884",
                  "name": "Gebäude LoD2",
                  "typ": "TileSet3D",
                  "gfiAttributes": "showAll",
                  "visibility": true
                },
                {
                  "id": "16100",
                  "name": "Hauptkirchen",
                  "visibility": true,
                  "hiddenFeatures": [
                    "DEHHALKAJ00011uJ",
                    "DEHHALKAJ0000yd2",
                    "DEHHALKAJ0000ovW",
                    "DEHHALKAJ0000owm",
                    "DEHHALKAJ0000pO5"
                  ]
                },
                {
                  "id": "Entities3D",
                  "name": "3D-Entities Testlayer",
                  "typ": "Entities3D",
                  "visibility": true,
                  "entities": [
                    {
                      "url": "https://daten-hamburg.de/gdi3d/datasource-data/Simple_Building.glb",
                      "attributes": {
                        "name": "Einfaches Haus in Planten und Blomen"
                      },
                      "latitude": 53.5631,
                      "longitude": 9.9800,
                      "height": 12,
                      "heading": 0,
                      "pitch": 0,
                      "roll": 0,
                      "scale": 5,
                      "allowPicking": true,
                      "show": true
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  }
}
